# AWS IoT Core ν…μ¤νΈ ν΄λΌμ΄μ–ΈνΈ - λΉλ“ κ°€μ΄λ“

## κ°λ° ν™κ²½ μ„¤μ •

### ν•„μ μ”κµ¬μ‚¬ν•­
- Node.js 18.x μ΄μƒ
- npm λλ” yarn
- Git

### μ„¤μΉ λ° μ‹¤ν–‰
```bash
# μμ΅΄μ„± μ„¤μΉ
npm install

# κ°λ° λ¨λ“ μ‹¤ν–‰
npm run dev

# TypeScript μ»΄νμΌ (Electron λ©”μΈ ν”„λ΅μ„Έμ¤)
npm run build:electron

# React μ•± λΉλ“ (λ λ”λ¬ ν”„λ΅μ„Έμ¤)
npm run build:vite
```

## λ°°ν¬μ© λΉλ“

### μ „μ²΄ λΉλ“
```bash
# λ¨λ“  μ†μ¤ λΉλ“
npm run build
```

### ν”λ«νΌλ³„ λ°°ν¬ ν¨ν‚¤μ§€ μƒμ„±

#### macOS λΉλ“
```bash
# macOS DMG + ZIP μƒμ„± (Intel x64 + Apple Silicon arm64)
npm run dist:mac
```
- μƒμ„±λλ” νμΌ:
  - `release/AWS IoT Core ν…μ¤νΈ ν΄λΌμ΄μ–ΈνΈ-1.0.0.dmg`
  - `release/AWS IoT Core ν…μ¤νΈ ν΄λΌμ΄μ–ΈνΈ-1.0.0-mac.zip`

#### Windows λΉλ“
```bash
# Windows NSIS μΈμ¤ν†¨λ¬ + Portable μƒμ„± (x64 + x86)
npm run dist:win
```
- μƒμ„±λλ” νμΌ:
  - `release/AWS IoT Core ν…μ¤νΈ ν΄λΌμ΄μ–ΈνΈ Setup 1.0.0.exe` (μΈμ¤ν†¨λ¬)
  - `release/AWS IoT Core ν…μ¤νΈ ν΄λΌμ΄μ–ΈνΈ 1.0.0.exe` (ν¬ν„°λΈ”)

#### λ©€ν‹° ν”λ«νΌ λΉλ“
```bash
# macOS + Windows λ™μ‹ λΉλ“
npm run dist:all
```

### ν…μ¤νΈμ© μ–Έν¨ν‚¤μ§€ λΉλ“
```bash
# μ‹¤ν–‰ νμΌλ§ μƒμ„± (μ„¤μΉ ν¨ν‚¤μ§€ μ—†μ΄)
npm run pack
```

## λΉλ“ κ²°κ³Όλ¬Ό

λ¨λ“  λΉλ“ κ²°κ³Όλ¬Όμ€ `release/` λ””λ ‰ν† λ¦¬μ— μƒμ„±λ©λ‹λ‹¤:

```
release/
β”β”€β”€ mac/                          # macOS μ•± λ²λ“¤
β”β”€β”€ win-unpacked/                 # Windows μ–Έν¨ν‚¤μ§€ μ•±
β”β”€β”€ AWS IoT Core ν…μ¤νΈ ν΄λΌμ΄μ–ΈνΈ-1.0.0.dmg      # macOS DMG
β”β”€β”€ AWS IoT Core ν…μ¤νΈ ν΄λΌμ΄μ–ΈνΈ-1.0.0-mac.zip   # macOS ZIP
β”β”€β”€ AWS IoT Core ν…μ¤νΈ ν΄λΌμ΄μ–ΈνΈ Setup 1.0.0.exe # Windows μΈμ¤ν†¨λ¬
β””β”€β”€ AWS IoT Core ν…μ¤νΈ ν΄λΌμ΄μ–ΈνΈ 1.0.0.exe       # Windows ν¬ν„°λΈ”
```

## λΉλ“ μ„¤μ •

λΉλ“ μ„¤μ •μ€ `package.json`μ `build` μ„Ήμ…μ—μ„ κ΄€λ¦¬λ©λ‹λ‹¤:

- **μ•± ID**: `com.awsiot.testclient`
- **μ ν’λ…**: `AWS IoT Core ν…μ¤νΈ ν΄λΌμ΄μ–ΈνΈ`
- **μ§€μ› μ•„ν‚¤ν…μ²**: 
  - macOS: x64, arm64 (Apple Silicon)
  - Windows: x64, ia32 (x86)

## μ½”λ“ μ„λ… λ° κ³µμ¦ (μ„ νƒμ‚¬ν•­)

### macOS
- κ°λ°μ κ³„μ •μ΄ μλ” κ²½μ° `build/entitlements.mac.plist` νμΌμ„ ν†µν•΄ μ•± κ¶ν• μ„¤μ •
- Apple Developer IDλ¥Ό ν†µν• μ½”λ“ μ„λ… κ°€λ¥

### Windows
- μ½”λ“ μ„λ… μΈμ¦μ„κ°€ μλ” κ²½μ° μλ™ μ„λ… μ„¤μ • κ°€λ¥

## λΉλ“ μ„±κ³µ ν™•μΈ

### π‰ μ „μ²΄ ν”λ«νΌ λΉλ“ μ™„λ£!

λ¨λ“  ν”λ«νΌμ—μ„ μ„±κ³µμ μΌλ΅ λΉλ“λμ—μµλ‹λ‹¤:

#### macOS λΉλ“ β…
**Intel Mac (x64):**
- `AWS IoT Core ν…μ¤νΈ ν΄λΌμ΄μ–ΈνΈ-1.0.0.dmg` (130 MB)
- `AWS IoT Core ν…μ¤νΈ ν΄λΌμ΄μ–ΈνΈ-1.0.0-mac.zip` (145 MB)

**Apple Silicon (arm64):**
- `AWS IoT Core ν…μ¤νΈ ν΄λΌμ΄μ–ΈνΈ-1.0.0-arm64.dmg` (128 MB)
- `AWS IoT Core ν…μ¤νΈ ν΄λΌμ΄μ–ΈνΈ-1.0.0-arm64-mac.zip` (129 MB)

#### Windows λΉλ“ β…
**x64 + x86 ν†µν•©:**
- `AWS IoT Core ν…μ¤νΈ ν΄λΌμ΄μ–ΈνΈ Setup 1.0.0.exe` (207 MB) - NSIS μΈμ¤ν†¨λ¬
- `AWS IoT Core ν…μ¤νΈ ν΄λΌμ΄μ–ΈνΈ 1.0.0.exe` (191 MB) - ν¬ν„°λΈ” μ‹¤ν–‰νμΌ

### AWS IoT Core κ³µμ‹ μ•„μ΄μ½ μ μ© β…

- **μ•„μ΄μ½**: AWS IoT Core κ³µμ‹ λ…Ήμƒ‰ ν΄λΌμ°λ“ + IoT λ””λ°”μ΄μ¤ μ•„μ΄μ½
- **νμΌ ν¬λ§·**: macOS (.icns), Windows (.ico), Linux (.png)
- **ν•΄μƒλ„**: 16x16λ¶€ν„° 1024x1024κΉμ§€ λ¨λ“  ν¬κΈ° μ§€μ›

## μ£Όμμ‚¬ν•­

1. **AWS IoT Device SDK v2**: Native λ¨λ“μ΄ ν¬ν•¨λμ–΄ μμ–΄ ν”λ«νΌλ³„ λ°”μ΄λ„λ¦¬κ°€ ν•„μ”ν•©λ‹λ‹¤.
2. **Node.js λ²„μ „**: Electronκ³Ό νΈν™λλ” Node.js λ²„μ „μ„ μ‚¬μ©ν•΄μ•Ό ν•©λ‹λ‹¤.
3. **ν¬λ΅μ¤ ν”λ«νΌ λΉλ“**: 
   - macOSμ—μ„ Windows λΉλ“ μ‹ Wineμ΄ ν•„μ”ν•  μ μμµλ‹λ‹¤.
   - μµμƒμ κ²°κ³Όλ¥Ό μ„ν•΄μ„λ” κ° ν”λ«νΌμ—μ„ λ„¤μ΄ν‹°λΈ λΉλ“λ¥Ό κ¶μ¥ν•©λ‹λ‹¤.
4. **μ½”λ“ μ„λ…**: macOS λΉλ“λ” μ„λ…λμ§€ μ•μ•μΌλ―€λ΅ "ν™•μΈλμ§€ μ•μ€ κ°λ°μ" κ²½κ³ κ°€ λ‚νƒ€λ‚  μ μμµλ‹λ‹¤.

## μ„¤μΉ λ° ν…μ¤νΈ κ°€μ΄λ“

### macOS μ„¤μΉ
1. **DMG νμΌ**: `AWS IoT Core ν…μ¤νΈ ν΄λΌμ΄μ–ΈνΈ-1.0.0.dmg` λ”λΈ”ν΄λ¦­
2. **λ“λκ·Έ μ•¤ λ“λ΅­**: μ• ν”λ¦¬μΌ€μ΄μ…μ„ Applications ν΄λ”λ΅ λ“λκ·Έ
3. **λ³΄μ• κ²½κ³  ν•΄κ²°** (μ¤‘μ”!):

#### λ°©λ²• 1: μλ™ ν•΄κ²° μ¤ν¬λ¦½νΈ μ‚¬μ©
```bash
# ν”„λ΅μ νΈ λ””λ ‰ν† λ¦¬μ—μ„ μ‹¤ν–‰
./fix_macos_quarantine.sh
```

#### λ°©λ²• 2: μλ™ ν•΄κ²°
```bash
# 1. Quarantine μ†μ„± μ κ±°
sudo xattr -r -d com.apple.quarantine "/Applications/AWS IoT Core ν…μ¤νΈ ν΄λΌμ΄μ–ΈνΈ.app"

# 2. μ•± μ‹¤ν–‰
open "/Applications/AWS IoT Core ν…μ¤νΈ ν΄λΌμ΄μ–ΈνΈ.app"
```

#### λ°©λ²• 3: μ‹μ¤ν… μ„¤μ • (λ³΄μ• κ²½κ³  μ‹)
- `μ‹μ¤ν… ν™κ²½μ„¤μ • > λ³΄μ• λ° κ°μΈμ •λ³΄ λ³΄νΈ`μ—μ„ "ν™•μΈλμ§€ μ•μ€ κ°λ°μ" ν—μ©
- λλ” Control+ν΄λ¦­μΌλ΅ μ•±μ„ μ°ν΄λ¦­ν•μ—¬ "μ—΄κΈ°" μ„ νƒ

### Windows μ„¤μΉ
1. **μΈμ¤ν†¨λ¬**: `AWS IoT Core ν…μ¤νΈ ν΄λΌμ΄μ–ΈνΈ Setup 1.0.0.exe` μ‹¤ν–‰
2. **ν¬ν„°λΈ”**: `AWS IoT Core ν…μ¤νΈ ν΄λΌμ΄μ–ΈνΈ 1.0.0.exe` μ§μ ‘ μ‹¤ν–‰ (μ„¤μΉ λ¶ν•„μ”)
3. **λ³΄μ• κ²½κ³ **: Windows Defender SmartScreen κ²½κ³  μ‹ "μ¶”κ°€ μ •λ³΄ > μ‹¤ν–‰" ν΄λ¦­

### κΈ°λ³Έ μ‚¬μ©λ²•
1. **μ—”λ“ν¬μΈνΈ μ…λ ¥**: AWS IoT Core μ—”λ“ν¬μΈνΈ URL
2. **μΈμ¦μ„ μ„ νƒ**: λ””λ°”μ΄μ¤ μΈμ¦μ„ (.crt) λ° κ°μΈν‚¤ (.key) νμΌ
3. **μ—°κ²°**: "μ—°κ²°" λ²„νΌ ν΄λ¦­
4. **λ©”μ‹μ§€ ν…μ¤νΈ**: 
   - **λ°ν–‰**: Messaging νƒ­μ—μ„ ν† ν”½κ³Ό JSON λ©”μ‹μ§€ μ…λ ¥ ν›„ "λ°ν–‰"
   - **κµ¬λ…**: μ›ν•λ” ν† ν”½ μ…λ ¥ ν›„ "κµ¬λ…", μ‹¤μ‹κ°„ λ©”μ‹μ§€ μμ‹  ν™•μΈ

## λ¬Έμ  ν•΄κ²°

### macOS μ‹¤ν–‰ ν¬λμ‹ λ¬Έμ  β οΈ
**μ¦μƒ**: μ•±μ΄ μ‹μ‘ μ‹ `EXC_BREAKPOINT (SIGTRAP)` μ¤λ¥λ΅ ν¬λμ‹

**ν•΄κ²° λ°©λ²•**:
1. **Quarantine μ†μ„± μ κ±°** (κ¶μ¥):
   ```bash
   sudo xattr -r -d com.apple.quarantine "/Applications/AWS IoT Core ν…μ¤νΈ ν΄λΌμ΄μ–ΈνΈ.app"
   ```

2. **μλ™ ν•΄κ²° μ¤ν¬λ¦½νΈ μ‚¬μ©**:
   ```bash
   ./fix_macos_quarantine.sh
   ```

3. **Gatekeeper μ„μ‹ λΉ„ν™μ„±ν™”** (μ£Όμ):
   ```bash
   sudo spctl --master-disable
   # μ‚¬μ© ν›„ λ‹¤μ‹ ν™μ„±ν™”: sudo spctl --master-enable
   ```

### λΉλ“ μ‹¤ν¨ μ‹
```bash
# μμ΅΄μ„± μ¬μ„¤μΉ
rm -rf node_modules package-lock.json
npm install

# λΉλ“ μΊμ‹ μ •λ¦¬
rm -rf dist/ release/
npm run build
```

### λ„¤μ΄ν‹°λΈ λ¨λ“ μ¤λ¥ μ‹
```bash
# ν”λ«νΌλ³„ λ„¤μ΄ν‹°λΈ λ¨λ“ μ¬λΉλ“
npm rebuild
```

### AWS IoT μ—°κ²° λ¬Έμ 
1. **μ—”λ“ν¬μΈνΈ ν™•μΈ**: AWS IoT Core μ½μ†”μ—μ„ μ¬λ°”λ¥Έ μ—”λ“ν¬μΈνΈ URL ν™•μΈ
2. **μΈμ¦μ„ μ ν¨μ„±**: λ””λ°”μ΄μ¤ μΈμ¦μ„κ°€ ν™μ„±ν™”λμ–΄ μλ”μ§€ ν™•μΈ
3. **λ„¤νΈμ›ν¬ λ°©ν™”λ²½**: 8883 ν¬νΈ(MQTT over TLS)κ°€ μ—΄λ ¤μλ”μ§€ ν™•μΈ